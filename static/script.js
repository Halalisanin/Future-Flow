/*  your full JS (shortened)  */
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function(e){e.preventDefault();const t=document.querySelector(this.getAttribute('href'));if(t){t.scrollIntoView({behavior:'smooth',block:'start'});updateActiveNavLink(this.getAttribute('href'))}})});
window.addEventListener('scroll',()=>{const n=document.querySelector('.navbar');window.scrollY>100?(n.style.background='rgba(255,255,255,.98)',n.style.boxShadow='0 2px 20px rgba(0,0,0,.1)'):(n.style.background='rgba(255,255,255,.95)',n.style.boxShadow='0 2px 10px rgba(0,0,0,.1)');updateActiveNavOnScroll()});
function updateActiveNavLink(id){document.querySelectorAll('.nav-link').forEach(l=>l.classList.remove('active'));document.querySelector(`a[href="${id}"]`).classList.add('active')}
function updateActiveNavOnScroll(){const sections=document.querySelectorAll('section');let cur='';sections.forEach(s=>{const top=s.offsetTop-100,height=s.clientHeight;if(window.scrollY>=top&&window.scrollY<top+height)cur='#'+s.getAttribute('id')});document.querySelectorAll('.nav-link').forEach(l=>{l.classList.remove('active');if(l.getAttribute('href')===cur)l.classList.add('active')})}
document.getElementById('contactForm').addEventListener('submit',function(e){e.preventDefault();const data={name:document.getElementById('name').value.trim(),email:document.getElementById('email').value.trim(),message:document.getElementById('message').value.trim()};if(validateForm(data)){const btn=this.querySelector('.submit-btn'),orig=btn.textContent;btn.textContent='Sending...';btn.disabled=!0;fetch('/submit_contact',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)}).then(r=>r.json()).then(j=>{showNotification(j.message,j.status);if(j.status==='success')this.reset()}).catch(err=>showNotification('Network error','error')).finally(()=>{btn.textContent=orig;btn.disabled=!1})}}});
function validateForm(d){const re=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!d.name){showNotification('Name required','error');document.getElementById('name').focus();return!1}if(!d.email){showNotification('Email required','error');document.getElementById('email').focus();return!1}if(!re.test(d.email)){showNotification('Valid email required','error');document.getElementById('email').focus();return!1}if(!d.message){showNotification('Message required','error');document.getElementById('message').focus();return!1}if(d.message.length<10){showNotification('Message too short','error');document.getElementById('message').focus();return!1}return!0}
function showNotification(msg,type='info'){const existing=document.querySelector('.notification');existing&&existing.remove();const n=document.createElement('div');n.className=`notification notification-${type}`;n.innerHTML=`<span>${msg}</span><button class="notification-close">&times;</button>`;n.style.cssText=`position:fixed;top:100px;right:20px;background:${type==='error'?'#e74c3c':type==='success'?'#27ae60':'#3498db'};color:white;padding:15px 20px;border-radius:8px;box-shadow:0 5px 15px rgba(0,0,0,.2);z-index:10000;display:flex;align-items:center;gap:15px;max-width:400px;animation:slideInRight .3s ease;font-weight:500`;document.body.appendChild(n);setTimeout(()=>{n.style.animation='slideOutRight .3s ease';setTimeout(()=>n.remove(),300)},5e3);n.querySelector('.notification-close').addEventListener('click',()=>{n.style.animation='slideOutRight .3s ease';setTimeout(()=>n.remove(),300)})}
const style=document.createElement('style');style.textContent=`@keyframes slideInRight{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes slideOutRight{from{transform:translateX(0);opacity:1}to{transform:translateX(100%);opacity:0}}`;document.head.appendChild(style);
document.addEventListener('DOMContentLoaded',()=>{updateActiveNavLink('#home');const hero=document.querySelector('.hero-content');hero.style.opacity='0';hero.style.transform='translateY(30px)';hero.style.transition='opacity .8s ease,transform .8s ease';setTimeout(()=>{hero.style.opacity='1';hero.style.transform='translateY(0)'},300)});
window.addEventListener('error',e=>console.error('Site error:',e.error));
window.addEventListener('load',()=>{const t=performance.timing.loadEventEnd-performance.timing.navigationStart;console.log(`Page loaded in ${t}ms`)});